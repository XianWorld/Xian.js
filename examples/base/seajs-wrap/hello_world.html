<!DOCTYPE HTML>
<html>
<head>
    <title>Common Test</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000000;
        }
    </style>

    <!--<script src="../../bin/pixi.dev.js"></script>-->
    <script src="../../../spm_modules/seajs/2.3.0/dist/sea.js"></script>
    <script src="../../../spm_modules/seajs-wrap/1.0.2/dist/seajs-wrap.js"></script>
</head>
<body>
<script>
    seajs.use(['/Xian/index.js'], function (Xian) {
        Xian.globalize();

        var game, sceneJson;
        var Assets = MainContext.Assets;
        game = Game;

        sceneJson = {
            'name': 'PlayGround',
            'systems': [
                {'_className': 'Transform2DSystem'},
                {'_className': 'BehaviourSystem'},
                {'_className': 'Render2DSystem'}
            ]
        };

        var rootPrefab = {
            'name': "root",
            'components': [
                {'_className': 'Transform2D'},
                {
                    '_className': 'Camera2D',
                    'transparent': 'true'
                },
                {
                    '_className': 'Sprite2D',
                    'texture': "../contents/eggHead.png"
                },
                {
                    '_className': 'Text2D',
                    'text': "Hello World!",
                    'style': {
                        'font': "bold 60px Arial",
                        'fill': "#cc00ff",
                        'align': "center",
                        'stroke': "#FFFFFF",
                        'strokeThickness': 4
                    }
                },
                {
                    '_className': 'TilingSprite2D',
                    'texture': "../contents/eggHead.png",
                    'width': 300,
                    'height': 300,
                    'alpha': 0.5
                },
                {'_className': 'Renderer2D'}
            ]
        };

        game.addScene(sceneJson);

        function start() {
            game.setScene("PlayGround");
            var root = new GameObject().fromJSON(rootPrefab);
            game.scene.addGameObject(root);
        }

        game.on("start", function () {
            start();
        });

        game.start();
    });
</script>

</body>
</html>
